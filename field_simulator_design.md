# AI Field Simulator: Scenario Design Template

This document outlines the design and structure for interactive, AI-powered training scenarios within the Florida Statute AI application.

---

### **Scenario Title:**
Mental Health Crisis Call: "The Man on the Bridge"

### **Learning Objectives:**
Upon completion of this scenario, the officer will be able to:
1.  **Identify** key indicators of an individual experiencing a mental health crisis.
2.  **Apply** core principles of active listening and verbal de-escalation.
3.  **Demonstrate** effective communication techniques to build rapport and reduce tension.
4.  **Prioritize** officer safety and the safety of the individual and the public.
5.  **Articulate** the legal considerations for involuntary assessment under Florida's Baker Act (F.S. 394).

---

### **Initial Scene Setting:**

*   **Location:** The pedestrian overpass above I-95 near the Okeechobee Road exit in Fort Pierce, Florida. It's a chain-link fence-enclosed walkway.
*   **Time of Day & Environmental Factors:** 10:30 PM on a Tuesday. The night is humid and warm. Traffic noise from the interstate below is constant and loud, making communication difficult. The overpass is dimly lit by intermittent streetlights.
*   **Characters Involved:**
    *   **Subject:** A white male in his late 20s, identified later as "David." He is dressed in jeans and a hoodie, appears disheveled, and is visibly distressed. He is standing near the midpoint of the overpass, looking down at the traffic. He is not currently on the outside of the fence but is agitated and pacing in a small area. He is muttering to himself.
*   **Officer's Initial Information (Dispatch Notes):** "Received a 911 call from a passing motorist reporting a male subject on the I-95 overpass, looking over the edge. Caller was concerned he might jump. No weapons seen. Respond and conduct a welfare check."

---

### **Decision Point 1: Initial Approach**

#### **Narrative Hook:**
You are Officer Miller. You have parked your patrol car about 50 yards from the entrance to the overpass and are approaching on foot to avoid startling the subject with sirens or headlights. You can see David pacing and muttering. The loud traffic noise will require you to speak clearly and deliberately. Your initial approach and words are critical.

#### **Officer Choices:**
*   **A) Authoritative Approach:** Close the distance quickly, stand tall, and use a commanding voice: "Sir! Police! I need you to come over here and talk to me right now."
*   **B) Cautious & Calm Approach:** Approach slowly at an angle, stopping about 15-20 feet away. Use a calm, non-threatening voice: "Hey there. I'm Officer Miller. Everything okay? Looks like you've got a lot on your mind. I'm just here to listen if you want to talk."
*   **C) Indirect Approach:** Approach slowly, stopping a safe distance away. Don't address him directly at first. Instead, speak into your radio loud enough for him to overhear: "Dispatch, be advised I have eyes on the subject. He appears distressed. I am going to attempt to make contact."
*   **D) Request Backup Immediately:** Before making contact, use your radio to request a CIT (Crisis Intervention Team) trained officer and wait for them to arrive before engaging.

#### **Branching Consequences:**

*   **Choice A (Authoritative):**
    *   **Character Reaction:** David will likely become more agitated and defensive. Gemini will generate a response like, "Stay back! I'm not talking to you! You're just like the others!" He may move closer to the fence.
    *   **Progression:** Escalates the situation. De-escalation will now be significantly harder.
    *   **Legal/Safety:** Increases the risk of the subject attempting self-harm. No immediate legal issues, but a poor tactical choice.

*   **Choice B (Cautious & Calm):**
    *   **Character Reaction:** This is the preferred approach. David will likely stop pacing and look at you, though he remains wary. Gemini will generate a guarded but not openly hostile response: "Who are you? What do you want?"
    *   **Progression:** This is the most effective path toward de-escalation and opens the door for further dialogue.
    *   **Legal/Safety:** Maintains officer safety by keeping a distance and lowers the immediate tension, reducing the risk of a sudden action from David.

*   **Choice C (Indirect):**
    *   **Character Reaction:** David will hear you and likely feel cornered or like you are "reporting" on him. Gemini generates a suspicious response: "Talking about me? I'm right here! You think I can't hear you?"
    *   **Progression:** Creates a barrier of distrust that must be overcome. Less inflammatory than Choice A, but less effective than Choice B.
    *   **Legal/Safety:** Neutral outcome, but a missed opportunity to build immediate rapport.

*   **Choice D (Request Backup):**
    *   **Character Reaction:** David will see you waiting and may become more anxious, wondering what you are doing. The delay could increase his agitation.
    *   **Progression:** Pauses the scenario. If a CIT officer is "available," the scenario might branch to a new path where you assist them. If not, dispatch will tell you to make contact, forcing you back to choices A, B, or C after a delay.
    *   **Legal/Safety:** A safe but potentially passive choice. Waiting is not always the best option in a dynamic crisis.

---

### **Decision Point 2: Building Rapport**

*(Assuming the officer chose 1B and has established initial, tentative contact)*

#### **Narrative Hook:**
David has acknowledged you but remains tense. "I just want to be left alone," he says, his voice strained. He is now leaning against the fence, looking down at the cars. This is a critical moment to build trust.

#### **Officer Choices:**
*   **A) Focus on the Problem:** "I can't leave you alone right now. It looks like you're thinking about hurting yourself, and I can't let that happen. What's going on?"
*   **B) Empathetic Statement & Open-Ended Question:** "I hear you. It sounds like things are really heavy right now. The noise out here is a lot. Is there somewhere quieter we could talk? What's on your mind?"
*   **C) Offer a Distraction/Comfort:** "It is pretty loud out here. Are you thirsty? I've got a bottle of water in my car I could grab for you."
*   **D) Reiterate Your Role:** "I understand you want to be left alone, but my job is to make sure you're safe. I'm required to stay here with you."

#### **Branching Consequences:**

*   **Choice A (Problem Focus):**
    *   **Character Reaction:** The direct mention of "hurting yourself" can feel accusatory. Gemini generates a denial: "I'm not going to hurt myself! You don't know anything about me!"
    *   **Progression:** Sets back rapport-building. You must now backtrack to a more empathetic approach.

*   **Choice B (Empathy & Open Question):**
    *   **Character Reaction:** Acknowledging his feelings and the environment is highly effective. The open-ended question is non-judgmental. Gemini generates a more open, emotional response. He might say, "Heavy... yeah, you have no idea. My whole life..."
    *   **Progression:** This is the optimal path. It encourages David to start sharing his story, which is the foundation of de-escalation.
    *   **Legal/Safety:** By suggesting a quieter location, you are tactically moving the encounter away from the immediate hazard (the overpass edge).

*   **Choice C (Distraction/Comfort):**
    *   **Character Reaction:** A simple human gesture can be very effective. Gemini generates a response showing a slight decrease in tension: "Water?... I don't know... maybe."
    *   **Progression:** A good alternative to B. It builds a small amount of trust through action rather than words. The next step would still require verbal engagement.

*   **Choice D (Reiterate Role):**
    *   **Character Reaction:** This makes the interaction about your duty, not his well-being. Gemini generates a response of frustration: "This isn't about your job! This is about my life! Just go away!"
    *   **Progression:** Escalates the situation by making him feel like a task, not a person.

---

### **Decision Point 3: The Baker Act Consideration**

*(Assuming the officer has successfully de-escalated the immediate crisis through path 1B -> 2B. David is now sitting on the ground, talking, but is still clearly not in a stable state of mind.)*

#### **Narrative Hook:**
David has told you he recently lost his job and feels like a failure. He says, "I just don't see the point anymore. Sometimes I think it would be better if I just wasn't here." Although he is calmer, this statement is a clear indicator of suicidal ideation. You must now decide on the appropriate legal and care-based action.

#### **Officer Choices:**
*   **A) Persuade to Go Voluntarily:** "David, it sounds like you're going through a lot more than anyone should have to handle alone. There are people who can help. There's a facility not far from here where you can talk to someone. Would you be willing to go with me voluntarily?"
*   **B) Involuntary Committal (Baker Act):** "David, I appreciate you talking to me. Because you've mentioned wanting to end your life, I am required by law to take you for a mental health evaluation to ensure your safety. This is not an arrest, but you are not free to leave."
*   **C) Release with a Referral:** "I'm glad we talked, David. It sounds like you have a lot to deal with. Here is a card with the number for a crisis hotline. Do you have a friend or family member you can call to come pick you up?"

#### **Branching Consequences:**

*   **Choice A (Voluntary):**
    *   **Character Reaction:** This is the most desirable outcome, respecting his autonomy. Gemini can generate one of two responses:
        1.  **Acceptance:** "Voluntarily? Not in cuffs? I... I guess. Maybe." -> **Scenario Success.**
        2.  **Refusal:** "No! I'm not going to some hospital. I'm fine now. I'm just going home." -> **Forces you to choose B.**
    *   **Progression:** Leads to the best possible resolution or transitions to the necessary legal action.

*   **Choice B (Involuntary):**
    *   **Character Reaction:** He may feel betrayed, and his agitation may return. Gemini generates a response of renewed panic: "No! You can't make me! I'm not going anywhere!"
    *   **Progression:** This is a legally correct and necessary action if he refuses voluntary help. The scenario would then progress to the practical steps of safely securing him for transport.
    *   **Legal/Safety:** This is the legally justified action under Florida Statute 394 if he meets the criteria (harm to self). It is the safest choice for his well-being if he refuses voluntary help.

*   **Choice C (Release):**
    *   **Character Reaction:** He will likely agree readily. "Yeah, okay. I'll call my brother. Thanks, officer."
    *   **Progression:** Ends the scenario.
    *   **Legal/Safety:** **This is a critical failure.** The post-scenario feedback will highlight that you had direct evidence of suicidal ideation and a duty to act under the Baker Act. Releasing him creates a significant and foreseeable risk of harm.

---

### **Gemini Integration Notes:**

*   **Natural Language Processing (NLP):** If a free-text option is ever included (e.g., "What do you say to David?"), Gemini would need to analyze the input for key indicators: empathy, commands, threats, open-ended questions, etc., and then map the input to the most similar predefined choice (A, B, C, or D).
*   **Content Generation:** Gemini's primary role will be to generate the text for the "Character Reaction" and "Progression" sections. The prompt to Gemini would be contextual: `"Given the officer chose to be authoritative (Choice A), generate a realistic, agitated, and defensive response from a suicidal subject on a bridge. The response should escalate the tension."`
*   **Contextual Awareness:** The simulation's state machine must track the officer's path (e.g., `1B -> 2B -> 3A`). Each prompt to Gemini must include a summary of the previous choices and outcomes to ensure the generated text is logically consistent.

---

### **Potential Challenges & Mitigation:**

*   **Challenge:** AI generates a nonsensical or out-of-character response.
*   **Mitigation:** Heavily constrain the prompts. Use few-shot prompting by providing examples of good and bad responses. Implement a validation layer where if Gemini's output doesn't meet certain criteria (e.g., length, contains key phrases), it re-rolls the generation with a modified prompt.

*   **Challenge:** The scenario feels too linear or predictable.
*   **Mitigation:** Introduce minor, randomized variables. For instance, a passing car might honk, and Gemini could generate a reaction from David based on his current agitation level, adding a dynamic element.

---

### **Officer Feedback & Learning Points:**

*   **Immediate Feedback:** The character's immediate reaction (generated by Gemini) is the most powerful form of instant feedback. An officer will immediately *feel* the difference between an empathetic choice and an authoritative one.
*   **Summary & Analysis (End of Scenario):**
    1.  **Path Review:** The app will display a visual flowchart of the officer's chosen path (e.g., `Approach (Calm) -> Build Rapport (Empathetic) -> Resolution (Voluntary Transport)`).
    2.  **Key Decisions:** Highlight the critical decision points and the choices made.
    3.  **Outcome Analysis:** Explain *why* the chosen path led to its outcome. For the failure path (1C), the feedback would state: "By releasing David after he expressed suicidal ideation, you created a serious safety risk. Florida's Baker Act provides the legal authority and duty to intervene in these situations to provide protective custody and ensure an individual receives a mental health evaluation."
*   **Reinforcement of Best Practices:** The summary will explicitly link successful choices back to the learning objectives, reinforcing concepts like "Active Listening," "Time and Distance," and "Building Rapport."

---

### **Flutter Integration Considerations:**

*   **State Management:** A robust state management solution (like Provider or Riverpod) will be essential to manage the current state of the scenario (which decision point, what choices have been made).
*   **UI Components:**
    *   **Narrative Text:** Use `Text` widgets with rich styling from the Material 3 `TextTheme`.
    *   **Choices:** Present choices using a `Column` of `FilledButton.tonal` or `OutlinedButton` widgets to provide clear, tappable options.
    *   **Navigation:** Use `go_router` to navigate between the main app and the Field Simulator screen. The internal progression of the scenario itself will be managed by updating the state, not by creating new routes for each decision point.
    *   **Feedback Screen:** A dedicated screen at the end will use widgets like `Card`, `ListTile`, and `Stepper` to visually lay out the scenario summary and learning points.

